<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dayi.follow.dao.dayi.OrgMapper">

    <select id="getManageFundLevel1" parameterType="map" resultType="java.lang.Double">
        select sum(b.amount)  from agent a
        LEFT  join (
            SELECT agent,amount FROM protocol where status in(1,2)
        )b on b.agent=a.id
        where  b.agent is not null
        and a.org_id =${orgId} and a.invite_level=1
    </select>
    <select id="getManageFundLevel2" parameterType="map" resultType="java.lang.Double">
        select sum(b.amount)  from agent a
        LEFT  join (
        SELECT agent,amount FROM protocol where status in(1,2)
        )b on b.agent=a.id
        where  b.agent is not null
        and a.org_id =${orgId} and a.invite_level=2
    </select>
</mapper>
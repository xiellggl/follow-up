(function(n){window.runbox=n})(function(n){var e=n.box.children,t=0,o=500,i,r,u;function a(n){n&&n();l(e,function(n,e){switch(n){case t:f(e,3,200,-100);break;case c():f(e,2,-244,-200);break;case s():f(e,2,677,-200);break;default:f(e,0,200,-300)}if(u)switch(n){case t:u[n].className="curr";break;default:u[n].removeAttribute("class")}});!r&&v()}function c(){return t-1<0?e.length-1:t-1}function s(){return t+1>=e.length?0:t+1}function f(n,e,t,i){n.style.webkitTransform=n.style.oTransform=n.style.transform="translate3d("+t+"px,0,"+i+"px)";n.style.webkitTransition=n.style.oTransition=n.style.transition=o+"ms ease-in-out";n.style.zIndex=e}function l(n,e){for(var t=0;t<n.length;t++){e(t,n[t])}}function m(n){if(n===t)return false;var i=Math.ceil((e.length-1)/2),u=Math.abs(n-t),f,l=function(){t=f?c():s();o=200;a();if(n===t){clearInterval(r);r=!1;o=500}};f=n<t&&u<=i||n>t&&u>i;r=setInterval(l,200);p()}function b(){l(e,function(e){var t=document.createElement("i");n.bar.appendChild(t);t.onmouseup=function(){m(e)}});u=n.bar.children;u[0].className="curr"}function h(){n.prev.onmouseup=function(){t=c();r=!1;a();p()}}function d(){n.next.onmouseup=function(){t=s();r=!1;a();p()}}function v(){i&&clearTimeout(i);i=setTimeout(function(){t=s();a()},n.timer||5e3)}function p(){i&&clearTimeout(i);i=setTimeout(v,5e3)}e.length&&a(function(){n.bar&&b();n.prev&&h();n.next&&d();n.box.onmousemove=p})});
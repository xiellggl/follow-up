(function e(t){"use strict";if(typeof define==="function"&&define.amd){define(t)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=t()}else{window["Sortable"]=t()}})(function t(){"use strict";if(typeof window==="undefined"||!window.document){return function pe(){throw new Error("Sortable.js requires a window with a document")}}var e,t,i,n,r,o,a,l,s,f,c,u,d,h,p,g,v,m={},_,b,D,y,w=/\s+/g,T=/left|right|inline/,S="Sortable"+(new Date).getTime(),C=window,E=C.document,x=C.parseInt,k=C.setTimeout,N=C.jQuery||C.Zepto,B=C.Polymer,P=false,Y=false,X="draggable"in E.createElement("div"),M=function(e){if(!!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)){return false}e=E.createElement("x");e.style.cssText="pointer-events:auto";return e.style.pointerEvents==="auto"}(),O=false,I=Math.abs,R=Math.min,A=[],H=[],L=function(){return false},F=se(function(e,t,i){if(i&&t.scroll){var n=i[S],r,o,a=t.scrollSensitivity,c=t.scrollSpeed,u=e.clientX,d=e.clientY,h=window.innerWidth,p=window.innerHeight,g,v,_,D;if(s!==i){l=t.scroll;s=i;f=t.scrollFn;if(l===true){l=i;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight){break}}while(l=l.parentNode)}}if(l){r=l;o=l.getBoundingClientRect();g=(I(o.right-u)<=a)-(I(o.left-u)<=a);v=(I(o.bottom-d)<=a)-(I(o.top-d)<=a)}if(!(g||v)){g=(h-u<=a)-(u<=a);v=(p-d<=a)-(d<=a);(g||v)&&(r=C)}if(m.vx!==g||m.vy!==v||m.el!==r){m.el=r;m.vx=g;m.vy=v;clearInterval(m.pid);if(r){m.pid=setInterval(function(){D=v?v*c:0;_=g?g*c:0;if("function"===typeof f){if(f.call(n,_,D,e,b,r)!=="continue"){return}}if(r===C){C.scrollTo(C.pageXOffset+_,C.pageYOffset+D)}else{r.scrollTop+=D;r.scrollLeft+=_}},24)}}}},30),W=function(e){function t(e,t){if(e==null||e===true){e=i.name;if(e==null){return L}}if(typeof e==="function"){return e}else{return function(i,n){var r=n.options.group.name;return t?e:e&&(e.join?e.indexOf(r)>-1:r==e)}}}var i={};var n=e.group;if(!n||typeof n!="object"){n={name:n}}i.name=n.name;i.checkPull=t(n.pull,true);i.checkPut=t(n.put);i.revertClone=n.revertClone;e.group=i};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Y=false;P={capture:false,passive:Y}}}))}catch(j){}function U(e,t){if(!(e&&e.nodeType&&e.nodeType===1)){throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e)}this.el=e;this.options=t=fe({},t);e[S]=this;var i={group:null,sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,touchStartThreshold:x(window.devicePixelRatio,10)||1,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:U.supportPointer!==false};for(var n in i){!(n in t)&&(t[n]=i[n])}W(t);for(var r in this){if(r.charAt(0)==="_"&&typeof this[r]==="function"){this[r]=this[r].bind(this)}}this.nativeDraggable=t.forceFallback?false:X;Q(e,"mousedown",this._onTapStart);Q(e,"touchstart",this._onTapStart);t.supportPointer&&Q(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){Q(e,"dragover",this);Q(e,"dragenter",this)}H.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}U.prototype={constructor:U,_onTapStart:function(t){var i=this,n=this.el,r=this.options,o=r.preventOnFilter,l=t.type,s=t.touches&&t.touches[0],f=(s||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0])||f,u=r.filter,d;ue(n);if(e){return}if(/mousedown|pointerdown/.test(l)&&t.button!==0||r.disabled){return}if(c.isContentEditable){return}f=q(f,r.draggable,n);if(!f){return}if(a===f){return}d=ae(f,r.draggable);if(typeof u==="function"){if(u.call(this,t,f,this)){ee(i,c,"filter",f,n,n,d);o&&t.preventDefault();return}}else if(u){u=u.split(",").some(function(e){e=q(c,e.trim(),n);if(e){ee(i,e,"filter",f,n,n,d);return true}});if(u){o&&t.preventDefault();return}}if(r.handle&&!q(c,r.handle,n)){return}this._prepareDragStart(t,s,f,d)},_prepareDragStart:function(i,n,l,s){var f=this,c=f.el,u=f.options,d=c.ownerDocument,p;if(l&&!e&&l.parentNode===c){_=i;r=c;e=l;t=e.parentNode;o=e.nextSibling;a=l;g=u.group;h=s;this._lastX=(n||i).clientX;this._lastY=(n||i).clientY;e.style["will-change"]="all";p=function(){f._disableDelayedDrag();e.draggable=f.nativeDraggable;J(e,u.chosenClass,true);f._triggerDragStart(i,n);ee(f,r,"choose",e,r,r,h)};u.ignore.split(",").forEach(function(t){$(e,t.trim(),ie)});Q(d,"mouseup",f._onDrop);Q(d,"touchend",f._onDrop);Q(d,"touchcancel",f._onDrop);Q(d,"selectstart",f);u.supportPointer&&Q(d,"pointercancel",f._onDrop);if(u.delay){Q(d,"mouseup",f._disableDelayedDrag);Q(d,"touchend",f._disableDelayedDrag);Q(d,"touchcancel",f._disableDelayedDrag);Q(d,"mousemove",f._disableDelayedDrag);Q(d,"touchmove",f._delayedDragTouchMoveHandler);u.supportPointer&&Q(d,"pointermove",f._delayedDragTouchMoveHandler);f._dragStartTimer=k(p,u.delay)}else{p()}}},_delayedDragTouchMoveHandler:function(e){if(R(I(e.clientX-this._lastX),I(e.clientY-this._lastY))>=this.options.touchStartThreshold){this._disableDelayedDrag()}},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer);Z(e,"mouseup",this._disableDelayedDrag);Z(e,"touchend",this._disableDelayedDrag);Z(e,"touchcancel",this._disableDelayedDrag);Z(e,"mousemove",this._disableDelayedDrag);Z(e,"touchmove",this._disableDelayedDrag);Z(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,i){i=i||(t.pointerType=="touch"?t:null);if(i){_={target:e,clientX:i.clientX,clientY:i.clientY};this._onDragStart(_,"touch")}else if(!this.nativeDraggable){this._onDragStart(_,true)}else{Q(e,"dragend",this);Q(r,"dragstart",this._onDragStart)}try{if(E.selection){de(function(){E.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(n){}},_dragStarted:function(){if(r&&e){var t=this.options;J(e,t.ghostClass,true);J(e,t.dragClass,false);U.active=this;ee(this,r,"start",e,r,r,h)}else{this._nulling()}},_emulateDragOver:function(){if(b){if(this._lastX===b.clientX&&this._lastY===b.clientY){return}this._lastX=b.clientX;this._lastY=b.clientY;if(!M){K(i,"display","none")}var e=E.elementFromPoint(b.clientX,b.clientY);var t=e;var n=H.length;while(e&&e.shadowRoot){e=e.shadowRoot.elementFromPoint(b.clientX,b.clientY);t=e}if(t){do{if(t[S]){while(n--){H[n]({clientX:b.clientX,clientY:b.clientY,target:e,rootEl:t})}break}e=t}while(t=t.parentNode)}if(!M){K(i,"display","")}}},_onTouchMove:function(e){if(_){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=o.clientX-_.clientX+r.x,l=o.clientY-_.clientY+r.y,s=e.touches?"translate3d("+a+"px,"+l+"px,0)":"translate("+a+"px,"+l+"px)";if(!U.active){if(n&&R(I(o.clientX-this._lastX),I(o.clientY-this._lastY))<n){return}this._dragStarted()}this._appendGhost();D=true;b=o;K(i,"webkitTransform",s);K(i,"mozTransform",s);K(i,"msTransform",s);K(i,"transform",s);e.preventDefault()}},_appendGhost:function(){if(!i){var t=e.getBoundingClientRect(),n=K(e),o=this.options,a;i=e.cloneNode(true);J(i,o.ghostClass,false);J(i,o.fallbackClass,true);J(i,o.dragClass,true);K(i,"top",t.top-x(n.marginTop,10));K(i,"left",t.left-x(n.marginLeft,10));K(i,"width",t.width);K(i,"height",t.height);K(i,"opacity","0.8");K(i,"position","fixed");K(i,"zIndex","100000");K(i,"pointerEvents","none");o.fallbackOnBody&&E.body.appendChild(i)||r.appendChild(i);a=i.getBoundingClientRect();K(i,"width",t.width*2-a.width);K(i,"height",t.height*2-a.height)}},_onDragStart:function(t,i){var o=this;var a=t.dataTransfer;var l=o.options;o._offUpEvents();if(g.checkPull(o,o,e,t)){n=ce(e);n.draggable=false;n.style["will-change"]="";K(n,"display","none");J(n,o.options.chosenClass,false);o._cloneId=de(function(){r.insertBefore(n,e);ee(o,r,"clone",e)})}J(e,l.dragClass,true);if(i){if(i==="touch"){Q(E,"touchmove",o._onTouchMove);Q(E,"touchend",o._onDrop);Q(E,"touchcancel",o._onDrop);if(l.supportPointer){Q(E,"pointermove",o._onTouchMove);Q(E,"pointerup",o._onDrop)}}else{Q(E,"mousemove",o._onTouchMove);Q(E,"mouseup",o._onDrop)}o._loopId=setInterval(o._emulateDragOver,50)}else{if(a){a.effectAllowed="move";l.setData&&l.setData.call(o,a,e)}Q(E,"drop",o);o._dragStartId=de(o._dragStarted)}},_onDragOver:function(a){var l=this.el,s,f,h,p,m=this.options,_=m.group,b=U.active,y=g===_,w=false,C=m.sort;if(a.preventDefault!==void 0){a.preventDefault();!m.dragoverBubble&&a.stopPropagation()}if(e.animated){return}D=true;if(b&&!m.disabled&&(y?C||(p=!r.contains(e)):v===this||(b.lastPullMode=g.checkPull(this,b,e,a))&&_.checkPut(this,b,e,a))&&(a.rootEl===void 0||a.rootEl===this.el)){F(a,m,this.el);if(O){return}s=q(a.target,m.draggable,l);f=e.getBoundingClientRect();if(v!==this){v=this;w=true}if(p){V(b,true);t=r;if(n||o){r.insertBefore(e,n||o)}else if(!C){r.appendChild(e)}return}if(l.children.length===0||l.children[0]===i||l===a.target&&re(l,a)){if(l.children.length!==0&&l.children[0]!==i&&l===a.target){s=l.lastElementChild}if(s){if(s.animated){return}h=s.getBoundingClientRect()}V(b,y);if(te(r,l,e,f,s,h,a)!==false){if(!e.contains(l)){l.appendChild(e);t=l}this._animate(f,e);s&&this._animate(h,s)}}else if(s&&!s.animated&&s!==e&&s.parentNode[S]!==void 0){if(c!==s){c=s;u=K(s);d=K(s.parentNode)}h=s.getBoundingClientRect();var E=h.right-h.left,x=h.bottom-h.top,N=T.test(u.cssFloat+u.display)||d.display=="flex"&&d["flex-direction"].indexOf("row")===0,B=s.offsetWidth>e.offsetWidth,P=s.offsetHeight>e.offsetHeight,Y=(N?(a.clientX-h.left)/E:(a.clientY-h.top)/x)>.5,X=s.nextElementSibling,M=false;if(N){var I=e.offsetTop,R=s.offsetTop;if(I===R){M=s.previousElementSibling===e&&!B||Y&&B}else if(s.previousElementSibling===e||e.previousElementSibling===s){M=(a.clientY-h.top)/x>.5}else{M=R>I}}else if(!w){M=X!==e&&!P||Y&&P}var A=te(r,l,e,f,s,h,a,M);if(A!==false){if(A===1||A===-1){M=A===1}O=true;k(ne,30);V(b,y);if(!e.contains(l)){if(M&&!X){l.appendChild(e)}else{s.parentNode.insertBefore(e,M?X:s)}}t=e.parentNode;this._animate(f,e);this._animate(h,s)}}}},_animate:function(e,t){var i=this.options.animation;if(i){var n=t.getBoundingClientRect();if(e.nodeType===1){e=e.getBoundingClientRect()}K(t,"transition","none");K(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)");y=t.offsetWidth;K(t,"transition","all "+i+"ms");K(t,"transform","translate3d(0,0,0)");clearTimeout(t.animated);t.animated=k(function(){K(t,"transition","");K(t,"transform","");t.animated=false},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;Z(E,"touchmove",this._onTouchMove);Z(E,"pointermove",this._onTouchMove);Z(e,"mouseup",this._onDrop);Z(e,"touchend",this._onDrop);Z(e,"pointerup",this._onDrop);Z(e,"touchcancel",this._onDrop);Z(e,"pointercancel",this._onDrop);Z(e,"selectstart",this)},_onDrop:function(a){var l=this.el,s=this.options;clearInterval(this._loopId);clearInterval(m.pid);clearTimeout(this._dragStartTimer);he(this._cloneId);he(this._dragStartId);Z(E,"mouseover",this);Z(E,"mousemove",this._onTouchMove);if(this.nativeDraggable){Z(E,"drop",this);Z(l,"dragstart",this._onDragStart)}this._offUpEvents();if(a){if(D){a.preventDefault();!s.dropBubble&&a.stopPropagation()}i&&i.parentNode&&i.parentNode.removeChild(i);if(r===t||U.active.lastPullMode!=="clone"){n&&n.parentNode&&n.parentNode.removeChild(n)}if(e){if(this.nativeDraggable){Z(e,"dragend",this)}ie(e);e.style["will-change"]="";J(e,this.options.ghostClass,false);J(e,this.options.chosenClass,false);ee(this,r,"unchoose",e,t,r,h,null,a);if(r!==t){p=ae(e,s.draggable);if(p>=0){ee(null,t,"add",e,t,r,h,p,a);ee(this,r,"remove",e,t,r,h,p,a);ee(null,t,"sort",e,t,r,h,p,a);ee(this,r,"sort",e,t,r,h,p,a)}}else{if(e.nextSibling!==o){p=ae(e,s.draggable);if(p>=0){ee(this,r,"update",e,t,r,h,p,a);ee(this,r,"sort",e,t,r,h,p,a)}}}if(U.active){if(p==null||p===-1){p=h}ee(this,r,"end",e,t,r,h,p,a);this.save()}}}this._nulling()},_nulling:function(){r=e=t=i=o=n=a=l=s=_=b=D=p=c=u=v=g=U.active=null;A.forEach(function(e){e.checked=true});A.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":if(e){this._onDragOver(t);G(t)}break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault();break}},toArray:function(){var e=[],t,i=this.el.children,n=0,r=i.length,o=this.options;for(;n<r;n++){t=i[n];if(q(t,o.draggable,this.el)){e.push(t.getAttribute(o.dataIdAttr)||oe(t))}}return e},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var r=i.children[n];if(q(r,this.options.draggable,i)){t[e]=r}},this);e.forEach(function(e){if(t[e]){i.removeChild(t[e]);i.appendChild(t[e])}})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return q(e,t||this.options.draggable,this.el)},option:function(e,t){var i=this.options;if(t===void 0){return i[e]}else{i[e]=t;if(e==="group"){W(i)}}},destroy:function(){var e=this.el;e[S]=null;Z(e,"mousedown",this._onTapStart);Z(e,"touchstart",this._onTapStart);Z(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){Z(e,"dragover",this);Z(e,"dragenter",this)}Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")});H.splice(H.indexOf(this._onDragOver),1);this._onDrop();this.el=e=null}};function V(t,i){if(t.lastPullMode!=="clone"){i=true}if(n&&n.state!==i){K(n,"display",i?"none":"");if(!i){if(n.state){if(t.options.group.revertClone){r.insertBefore(n,o);t._animate(e,n)}else{r.insertBefore(n,e)}}}n.state=i}}function q(e,t,i){if(e){i=i||E;do{if(t===">*"&&e.parentNode===i||le(e,t)){return e}}while(e=z(e))}return null}function z(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function G(e){if(e.dataTransfer){e.dataTransfer.dropEffect="move"}e.preventDefault()}function Q(e,t,i){e.addEventListener(t,i,P)}function Z(e,t,i){e.removeEventListener(t,i,P)}function J(e,t,i){if(e){if(e.classList){e.classList[i?"add":"remove"](t)}else{var n=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(w," ")}}}function K(e,t,i){var n=e&&e.style;if(n){if(i===void 0){if(E.defaultView&&E.defaultView.getComputedStyle){i=E.defaultView.getComputedStyle(e,"")}else if(e.currentStyle){i=e.currentStyle}return t===void 0?i:i[t]}else{if(!(t in n)){t="-webkit-"+t}n[t]=i+(typeof i==="string"?"":"px")}}}function $(e,t,i){if(e){var n=e.getElementsByTagName(t),r=0,o=n.length;if(i){for(;r<o;r++){i(n[r],r)}}return n}return[]}function ee(e,t,i,r,o,a,l,s,f){e=e||t[S];var c=E.createEvent("Event"),u=e.options,d="on"+i.charAt(0).toUpperCase()+i.substr(1);c.initEvent(i,true,true);c.to=o||t;c.from=a||t;c.item=r||t;c.clone=n;c.oldIndex=l;c.newIndex=s;c.originalEvent=f;t.dispatchEvent(c);if(u[d]){u[d].call(e,c)}}function te(e,t,i,n,r,o,a,l){var s,f=e[S],c=f.options.onMove,u;s=E.createEvent("Event");s.initEvent("move",true,true);s.to=t;s.from=e;s.dragged=i;s.draggedRect=n;s.related=r||t;s.relatedRect=o||t.getBoundingClientRect();s.willInsertAfter=l;s.originalEvent=a;e.dispatchEvent(s);if(c){u=c.call(f,s,a)}return u}function ie(e){e.draggable=false}function ne(){O=false}function re(e,t){var i=e.lastElementChild,n=i.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}function oe(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;while(i--){n+=t.charCodeAt(i)}return n.toString(36)}function ae(e,t){var i=0;if(!e||!e.parentNode){return-1}while(e&&(e=e.previousElementSibling)){if(e.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||le(e,t))){i++}}return i}function le(e,t){if(e){try{if(e.matches){return e.matches(t)}else if(e.msMatchesSelector){return e.msMatchesSelector(t)}}catch(i){return false}}return false}function se(e,t){var i,n;return function(){if(i===void 0){i=arguments;n=this;k(function(){if(i.length===1){e.call(n,i[0])}else{e.apply(n,i)}i=void 0},t)}}}function fe(e,t){if(e&&t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}return e}function ce(e){if(B&&B.dom){return B.dom(e).cloneNode(true)}else if(N){return N(e).clone(true)[0]}else{return e.cloneNode(true)}}function ue(e){A.length=0;var t=e.getElementsByTagName("input");var i=t.length;while(i--){var n=t[i];n.checked&&A.push(n)}}function de(e){return k(e,0)}function he(e){return clearTimeout(e)}Q(E,"touchmove",function(e){if(U.active){e.preventDefault()}});U.utils={on:Q,off:Z,css:K,find:$,is:function(e,t){return!!q(e,t,e)},extend:fe,throttle:se,closest:q,toggleClass:J,clone:ce,index:ae,nextTick:de,cancelNextTick:he};U.create=function(e,t){return new U(e,t)};U.version="1.7.0";return U});
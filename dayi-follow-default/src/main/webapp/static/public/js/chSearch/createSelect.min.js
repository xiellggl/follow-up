$.fn.createSelect=function(a,r){var t={classify:false,classifyName:"",productUrl:dayihost+"/uc/brand/all/prodname",productTypeUrl:dayihost+"/uc/brand/name/list",factoryUrl:dayihost+"/uc/brand/all/factory",brandUrl:dayihost+"/uc/brand/brand/list",selectList:[],hasHotList:true};var e=this;var n=function(a){e.config=$.extend({},t,a);o()};var o=function(){var a=e.config.productUrl,t=e.config.productTypeUrl,n=e.config.selectList,o=e.config.classify;$.getJSON(a+"?callback=?",function(a){var t=c(a.items,"productName");var l=e.config.hasHotList,f=i(t),v=s(f),u={typeName:"品名",dataObjList:v};$.getJSON(e.config.factoryUrl+"?callback=?",function(a){var f=c(a.items,"name");var v=i(f),h=s(v),d={typeName:"厂家",dataObjList:h};var p=n.slice(1,3);for(var y=0;y<p.length;y++){var g=p[y];$(g).on("keyup",function(){var a=$(this).val(),r=$(".sort_layer").length;if(a&&!!r){$(".sort_layer .sort_link").off();$(".sort_layer").remove()}});if(l){$(g).on("click",function(){var a,t,e=$(this),n=e.val(),o=$(this).attr("data-type"),i=$(".layui-layer").css("zIndex"),s=parseInt($(document).scrollTop()),c=parseInt(e.innerHeight()),l=parseInt(e.innerWidth()),f=parseInt(e.offset().left),v=parseInt(e.offset().top);l=l>268?l:268;if(n!=""){return false}if(o=="productName"){a=u}else if(o=="factoryName"){a=d}t=r("temp_list",a);$(t).appendTo($("body"));$(".sort_layer").css({position:"absolute",left:f,top:v+c,width:l,"z-index":i+1});$(".sort_layer").on("click",".sort_link",function(){var a=$(this).html();e.val(a);$(".sort_layer .sort_link").off();$(".sort_layer").remove();return false})})}}if(l){$(document).on("click",function(a){var r=a.target,t=$(r).is(".sort_layer"),e=$(r).is("input"),n=$(".sort_layer").length;if(!t&&!e&&!!n){$(".sort_layer .sort_link").off();$(".sort_layer").remove()}})}if(o){var m=e.config.classifyName;var b=function(a){$(e).chSearch({relative:false,searchBox:[n[1]],dataList:[a]})};var _=function(a){$.getJSON(e.config.productTypeUrl+"/"+a+"?callback=?",function(a){var r=c(a.items,"productName");b(r)})};var k=$(m).val();_(k);$(m).on("change",function(){var a=n[0],r=$(this).val();for(var t=0;t<n.length;t++){$(n[t]).val("")}_(r);$(a).val(r)})}else{$(e).chSearch({relative:false,searchBox:[n[1]],dataList:[t]})}$(e).chSearch({relative:false,searchBox:[n[2]],dataList:[f]});$(e).chSearch({relative:true,mustRelative:true,searchBox:[n[3]],dataType:["brandNumber"],relativeSearchBox:n,searchLink:[e.config.brandUrl]})})})};var i=function(a){var r=[];for(var t=0;t<a.length;t++){if(a[t]!=""){var e=makePy(a[t]);r.push(new Array(e.toString(),a[t]))}}return r};var s=function(a){var r=[],t="abcdefghijklmnopqrstuvwxyz",e=t.length;for(var n=0;n<e;n++){var o=[],i=t[n];$.each(a,function(a,r){var t=r[0],e=t.charAt(0).toLowerCase();if(e==i){o.push(r[1])}});var s=o.length;if(s>0){var c={firstLetter:i.toUpperCase(),dataList:o};r.push(c)}}return r};var c=function(a,r){var t=[];$.each(a,function(a,e){t.push(e[r])});return t};n(a)};
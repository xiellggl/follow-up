!function(t,e){var a=function(e,a,i){this.parentEl="body";this.element=t(e);var s='<div class="daterangepicker dropdown-menu">'+'<div class="ranges">'+'<div class="range_inputs">'+'<div class="daterangepicker_start_input">'+'<label for="daterangepicker_start"></label>'+'<input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" />'+"</div>"+'<div class="daterangepicker_end_input">'+'<label for="daterangepicker_end"></label>'+'<input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" />'+"</div>"+'<button class="applyBtn" disabled="disabled"></button>&nbsp;'+'<button class="cancelBtn"></button>'+"</div>"+"</div>"+'<div class="clear"></div>'+'<div class="calendar left"></div>'+'<div class="calendar right"></div>'+"</div>";if(typeof a!=="object"||a===null)a={};this.parentEl=typeof a==="object"&&a.parentEl&&t(a.parentEl).length?t(a.parentEl):t(this.parentEl);this.container=t(s).appendTo(this.parentEl);this.setOptions(a,i);var n=this.container;t.each(this.buttonClasses,function(t,e){n.find("button").addClass(e)});this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel);this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel);if(this.applyClass.length)this.container.find(".applyBtn").addClass(this.applyClass);if(this.cancelClass.length)this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.enterDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",t.proxy(this.updateTime,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",t.proxy(this.showCalendars,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this));if(this.element.is("input")){this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.updateFromControl,this)})}else{this.element.on("click.daterangepicker",t.proxy(this.toggle,this))}};a.prototype={constructor:a,setOptions:function(a,i){this.startDate=e().startOf("day");this.endDate=e().endOf("day");this.minDate=false;this.maxDate=false;this.dateLimit=false;this.showDropdowns=false;this.showWeekNumbers=false;this.timePicker=false;this.timePickerIncrement=30;this.timePicker12Hour=true;this.singleDatePicker=false;this.ranges={};this.opens="right";if(this.element.hasClass("pull-right"))this.opens="left";this.buttonClasses=["btn","btn-small"];this.applyClass="btn-success";this.cancelClass="btn-default";this.format="YYYY-MM-DD";this.separator=" - ";this.locale={applyLabel:"确定",cancelLabel:"取消",fromLabel:"从",toLabel:"到",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e()._lang._weekdaysMin.slice(),monthNames:e()._lang._monthsShort.slice(),firstDay:0};this.cb=function(){};if(typeof a.format==="string")this.format=a.format;if(typeof a.separator==="string")this.separator=a.separator;if(typeof a.startDate==="string")this.startDate=e(a.startDate,this.format);if(typeof a.endDate==="string")this.endDate=e(a.endDate,this.format);if(typeof a.minDate==="string")this.minDate=e(a.minDate,this.format);if(typeof a.maxDate==="string")this.maxDate=e(a.maxDate,this.format);if(typeof a.startDate==="object")this.startDate=e(a.startDate);if(typeof a.endDate==="object")this.endDate=e(a.endDate);if(typeof a.minDate==="object")this.minDate=e(a.minDate);if(typeof a.maxDate==="object")this.maxDate=e(a.maxDate);if(typeof a.applyClass==="string")this.applyClass=a.applyClass;if(typeof a.cancelClass==="string")this.cancelClass=a.cancelClass;if(typeof a.dateLimit==="object")this.dateLimit=a.dateLimit;if(typeof a.locale==="object"){if(typeof a.locale.daysOfWeek==="object"){this.locale.daysOfWeek=a.locale.daysOfWeek.slice()}if(typeof a.locale.monthNames==="object"){this.locale.monthNames=a.locale.monthNames.slice()}if(typeof a.locale.firstDay==="number"){this.locale.firstDay=a.locale.firstDay;var s=a.locale.firstDay;while(s>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());s--}}if(typeof a.locale.applyLabel==="string"){this.locale.applyLabel=a.locale.applyLabel}if(typeof a.locale.cancelLabel==="string"){this.locale.cancelLabel=a.locale.cancelLabel}if(typeof a.locale.fromLabel==="string"){this.locale.fromLabel=a.locale.fromLabel}if(typeof a.locale.toLabel==="string"){this.locale.toLabel=a.locale.toLabel}if(typeof a.locale.weekLabel==="string"){this.locale.weekLabel=a.locale.weekLabel}if(typeof a.locale.customRangeLabel==="string"){this.locale.customRangeLabel=a.locale.customRangeLabel}}if(typeof a.opens==="string")this.opens=a.opens;if(typeof a.showWeekNumbers==="boolean"){this.showWeekNumbers=a.showWeekNumbers}if(typeof a.buttonClasses==="string"){this.buttonClasses=[a.buttonClasses]}if(typeof a.buttonClasses==="object"){this.buttonClasses=a.buttonClasses}if(typeof a.showDropdowns==="boolean"){this.showDropdowns=a.showDropdowns}if(typeof a.singleDatePicker==="boolean"){this.singleDatePicker=a.singleDatePicker}if(typeof a.timePicker==="boolean"){this.timePicker=a.timePicker}if(typeof a.timePickerIncrement==="number"){this.timePickerIncrement=a.timePickerIncrement}if(typeof a.timePicker12Hour==="boolean"){this.timePicker12Hour=a.timePicker12Hour}var n,r,l;if(typeof a.startDate==="undefined"&&typeof a.endDate==="undefined"){if(t(this.element).is("input[type=text]")){var h=t(this.element).val();var o=h.split(this.separator);n=r=null;if(o.length==2){n=e(o[0],this.format);r=e(o[1],this.format)}else if(this.singleDatePicker){n=e(h,this.format);r=e(h,this.format)}if(n!==null&&r!==null){this.startDate=n;this.endDate=r}}}if(typeof a.ranges==="object"){for(l in a.ranges){n=e(a.ranges[l][0]);r=e(a.ranges[l][1]);if(this.minDate&&n.isBefore(this.minDate))n=e(this.minDate);if(this.maxDate&&r.isAfter(this.maxDate))r=e(this.maxDate);if(this.minDate&&r.isBefore(this.minDate)||this.maxDate&&n.isAfter(this.maxDate)){continue}this.ranges[l]=[n,r]}var c="<ul>";for(l in this.ranges){c+="<li>"+l+"</li>"}c+="<li>"+this.locale.customRangeLabel+"</li>";c+="</ul>";this.container.find(".ranges ul").remove();this.container.find(".ranges").prepend(c)}if(typeof i==="function"){this.cb=i}if(!this.timePicker){this.startDate=this.startDate.startOf("day");this.endDate=this.endDate.endOf("day")}if(this.singleDatePicker){this.opens="right";this.container.find(".calendar.right").show();this.container.find(".calendar.left").hide();this.container.find(".ranges").hide();if(!this.container.find(".calendar.right").hasClass("single"))this.container.find(".calendar.right").addClass("single")}else{this.container.find(".calendar.right").removeClass("single");this.container.find(".ranges").show()}this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.oldChosenLabel=this.chosenLabel;this.leftCalendar={month:e([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]};this.rightCalendar={month:e([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]};if(this.opens=="right"){var d=this.container.find(".calendar.left");var f=this.container.find(".calendar.right");d.removeClass("left").addClass("right");f.removeClass("right").addClass("left")}if(typeof a.ranges==="undefined"&&!this.singleDatePicker){this.container.addClass("show-calendar")}this.container.addClass("opens"+this.opens);this.updateView();this.updateCalendars()},setStartDate:function(t){if(typeof t==="string")this.startDate=e(t,this.format);if(typeof t==="object")this.startDate=e(t);if(!this.timePicker)this.startDate=this.startDate.startOf("day");this.oldStartDate=this.startDate.clone();this.updateView();this.updateCalendars()},setEndDate:function(t){if(typeof t==="string")this.endDate=e(t,this.format);if(typeof t==="object")this.endDate=e(t);if(!this.timePicker)this.endDate=this.endDate.endOf("day");this.oldEndDate=this.endDate.clone();this.updateView();this.updateCalendars()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year());this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format));if(this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},updateFromControl:function(){if(!this.element.is("input"))return;if(!this.element.val().length)return;var t=this.element.val().split(this.separator),a=null,i=null;if(t.length===2){a=e(t[0],this.format);i=e(t[1],this.format)}if(this.singleDatePicker||a===null||i===null){a=e(this.element.val(),this.format);i=a}if(i.isBefore(a))return;this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.startDate=a;this.endDate=i;if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))this.notify();this.updateCalendars()},notify:function(){this.updateView();this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var e={top:0,left:0};if(!this.parentEl.is("body")){e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()}}if(this.opens=="left"){this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,right:t(window).width()-this.element.offset().left-this.element.outerWidth()-e.left,left:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left,right:"auto"});if(this.container.offset().left+this.container.outerWidth()>t(window).width()){this.container.css({left:"auto",right:0})}}},toggle:function(t){if(this.element.hasClass("active")){this.hide()}else{this.show()}},show:function(e){this.element.addClass("active");this.container.show();this.move();t(document).on("click.daterangepicker",t.proxy(this.outsideClick,this));t(document).on("click.daterangepicker","[data-toggle=dropdown]",t.proxy(this.outsideClick,this));this.element.trigger("show.daterangepicker",this)},outsideClick:function(e){var a=t(e.target);if(a.closest(this.element).length||a.closest(this.container).length||a.closest(".calendar-date").length)return;this.hide()},hide:function(e){t(document).off("click.daterangepicker",this.outsideClick);this.element.removeClass("active");this.container.hide();if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))this.notify();this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.element.trigger("hide.daterangepicker",this)},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel){this.updateView()}else{var a=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(a[0].format(this.format));this.container.find("input[name=daterangepicker_end]").val(a[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar");this.move()},hideCalendars:function(){this.container.removeClass("show-calendar")},updateInputText:function(){if(this.element.is("input")&&!this.singleDatePicker){this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format))}else if(this.element.is("input")){this.element.val(this.startDate.format(this.format))}},clickRange:function(t){var e=t.target.innerHTML;this.chosenLabel=e;if(e==this.locale.customRangeLabel){this.showCalendars()}else{var a=this.ranges[e];this.startDate=a[0];this.endDate=a[1];if(!this.timePicker){this.startDate.startOf("day");this.endDate.endOf("day")}this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute());this.updateCalendars();this.updateInputText();this.hideCalendars();this.hide();this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(e){var a=t(e.target).parents(".calendar");if(a.hasClass("left")){this.leftCalendar.month.subtract("month",1)}else{this.rightCalendar.month.subtract("month",1)}this.updateCalendars()},clickNext:function(e){var a=t(e.target).parents(".calendar");if(a.hasClass("left")){this.leftCalendar.month.add("month",1)}else{this.rightCalendar.month.add("month",1)}this.updateCalendars()},enterDate:function(e){var a=t(e.target).attr("data-title");var i=a.substr(1,1);var s=a.substr(3,1);var n=t(e.target).parents(".calendar");if(n.hasClass("left")){this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][s].format(this.format))}else{this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][s].format(this.format))}},clickDate:function(a){var i=t(a.target).attr("data-title");var s=i.substr(1,1);var n=i.substr(3,1);var r=t(a.target).parents(".calendar");var l,h;if(r.hasClass("left")){l=this.leftCalendar.calendar[s][n];h=this.endDate;if(typeof this.dateLimit==="object"){var o=e(l).add(this.dateLimit).startOf("day");if(h.isAfter(o)){h=o}}}else{l=this.startDate;h=this.rightCalendar.calendar[s][n];if(typeof this.dateLimit==="object"){var c=e(h).subtract(this.dateLimit).startOf("day");if(l.isBefore(c)){l=c}}}if(this.singleDatePicker&&r.hasClass("left")){h=l.clone()}else if(this.singleDatePicker&&r.hasClass("right")){l=h.clone()}r.find("td").removeClass("active");if(l.isSame(h)||l.isBefore(h)){t(a.target).addClass("active");this.startDate=l;this.endDate=h;this.chosenLabel=this.locale.customRangeLabel}else if(l.isAfter(h)){t(a.target).addClass("active");var d=this.endDate.diff(this.startDate);this.startDate=l;this.endDate=e(l).add("ms",d);this.chosenLabel=this.locale.customRangeLabel}this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year());this.updateCalendars();if(!this.timePicker)h.endOf("day");if(this.singleDatePicker)this.clickApply()},clickApply:function(t){this.updateInputText();this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.chosenLabel=this.oldChosenLabel;this.updateView();this.updateCalendars();this.hide();this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(e){var a=t(e.target).closest(".calendar").hasClass("left"),i=a?"left":"right",s=this.container.find(".calendar."+i);var n=parseInt(s.find(".monthselect").val(),10);var r=s.find(".yearselect").val();this[i+"Calendar"].month.month(n).year(r);this.updateCalendars()},updateTime:function(e){var a=t(e.target).closest(".calendar").hasClass("left"),i=a?"left":"right",s=this.container.find(".calendar."+i);var n=parseInt(s.find(".hourselect").val(),10);var r=parseInt(s.find(".minuteselect").val(),10);if(this.timePicker12Hour){var l=s.find(".ampmselect").val();if(l==="PM"&&n<12)n+=12;if(l==="AM"&&n===12)n=0}if(a){var h=this.startDate.clone();h.hour(n);h.minute(r);this.startDate=h;this.leftCalendar.month.hour(n).minute(r)}else{var o=this.endDate.clone();o.hour(n);o.minute(r);this.endDate=o;this.rightCalendar.month.hour(n).minute(r)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left");this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right");this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate));this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate));this.container.find(".ranges li").removeClass("active");var t=true;var e=0;for(var a in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[a][0])&&this.endDate.isSame(this.ranges[a][1])){t=false;this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()}}else{if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){t=false;this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()}}e++}if(t){this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html()}},buildCalendar:function(t,a,i,s,n){var r=e([a,t,1]);var l=e(r).subtract("month",1).month();var h=e(r).subtract("month",1).year();var o=e([h,l]).daysInMonth();var c=r.day();var d;var f=[];for(d=0;d<6;d++){f[d]=[]}var m=o-c+this.locale.firstDay+1;if(m>o)m-=7;if(c==this.locale.firstDay)m=o-6;var p=e([h,l,m,12,s]);var u,g;for(d=0,u=0,g=0;d<42;d++,u++,p=e(p).add("hour",24)){if(d>0&&u%7===0){u=0;g++}f[g][u]=p.clone().hour(i);p.hour(12)}return f},renderDropdowns:function(t,e,a){var i=t.month();var s='<select class="monthselect">';var n=false;var r=false;for(var l=0;l<12;l++){if((!n||l>=e.month())&&(!r||l<=a.month())){s+="<option value='"+l+"'"+(l===i?" selected='selected'":"")+">"+this.locale.monthNames[l]+"</option>"}}s+="</select>";var h=t.year();var o=a&&a.year()||h+5;var c=e&&e.year()||h-50;var d='<select class="yearselect">';for(var f=c;f<=o;f++){d+='<option value="'+f+'"'+(f===h?' selected="selected"':"")+">"+f+"</option>"}d+="</select>";return s+d},renderCalendar:function(e,a,i,s){var n='<div class="calendar-date">';n+='<table class="table-condensed">';n+="<thead>";n+="<tr>";if(this.showWeekNumbers)n+="<th></th>";if(!i||i.isBefore(e[1][1])){n+='<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>'}else{n+="<th></th>"}var r=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");if(this.showDropdowns){r=this.renderDropdowns(e[1][1],i,s)}n+='<th colspan="5" class="month">'+r+"</th>";if(!s||s.isAfter(e[1][1])){n+='<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>'}else{n+="<th></th>"}n+="</tr>";n+="<tr>";if(this.showWeekNumbers)n+='<th class="week">'+this.locale.weekLabel+"</th>";t.each(this.locale.daysOfWeek,function(t,e){n+="<th>"+e+"</th>"});n+="</tr>";n+="</thead>";n+="<tbody>";for(var l=0;l<6;l++){n+="<tr>";if(this.showWeekNumbers)n+='<td class="week">'+e[l][0].week()+"</td>";for(var h=0;h<7;h++){var o="available ";o+=e[l][h].month()==e[1][1].month()?"":"off";if(i&&e[l][h].isBefore(i)||s&&e[l][h].isAfter(s)){o=" off disabled "}else if(e[l][h].format("YYYY-MM-DD")==a.format("YYYY-MM-DD")){o+=" active ";if(e[l][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")){o+=" start-date "}if(e[l][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")){o+=" end-date "}}else if(e[l][h]>=this.startDate&&e[l][h]<=this.endDate){o+=" in-range ";if(e[l][h].isSame(this.startDate)){o+=" start-date "}if(e[l][h].isSame(this.endDate)){o+=" end-date "}}var c="r"+l+"c"+h;n+='<td class="'+o.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+c+'">'+e[l][h].date()+"</td>"}n+="</tr>"}n+="</tbody>";n+="</table>";n+="</div>";var d;if(this.timePicker){n+='<div class="calendar-time">';n+='<select class="hourselect">';var f=0;var m=23;var p=a.hour();if(this.timePicker12Hour){f=1;m=12;if(p>=12)p-=12;if(p===0)p=12}for(d=f;d<=m;d++){if(d==p){n+='<option value="'+d+'" selected="selected">'+d+"</option>"}else{n+='<option value="'+d+'">'+d+"</option>"}}n+="</select> : ";n+='<select class="minuteselect">';for(d=0;d<60;d+=this.timePickerIncrement){var u=d;if(u<10)u="0"+u;if(d==a.minute()){n+='<option value="'+d+'" selected="selected">'+u+"</option>"}else{n+='<option value="'+d+'">'+u+"</option>"}}n+="</select> ";if(this.timePicker12Hour){n+='<select class="ampmselect">';if(a.hour()>=12){n+='<option value="AM">AM</option><option value="PM" selected="selected">PM</option>'}else{n+='<option value="AM" selected="selected">AM</option><option value="PM">PM</option>'}n+="</select>"}n+="</div>"}return n},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData("daterangepicker")}};t.fn.daterangepicker=function(e,i){this.each(function(){var s=t(this);if(s.data("daterangepicker"))s.data("daterangepicker").remove();s.data("daterangepicker",new a(s,e,i))});return this}}(window.jQuery,window.moment);